
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://nus-cs2030s.github.io/2223-s2/practice/practice-pe2-try.html">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.6">
    
    
      
        <title>Practice PE2 Question: Try - CS2030S Programming Methodology II</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#practice-pe2-question-try" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="CS2030S Programming Methodology II" class="md-header__button md-logo" aria-label="CS2030S Programming Methodology II" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CS2030S Programming Methodology II
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Practice PE2 Question: Try
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="CS2030S Programming Methodology II" class="md-nav__button md-logo" aria-label="CS2030S Programming Methodology II" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    CS2030S Programming Methodology II
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../00-overview.html" class="md-nav__link">
        0. Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../01-compiler.html" class="md-nav__link">
        1. Program and Compiler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../02-type.html" class="md-nav__link">
        2. Variable and Type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../03-function.html" class="md-nav__link">
        3. Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../04-encapsulation.html" class="md-nav__link">
        4. Encapsulation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../05-infohiding.html" class="md-nav__link">
        5. Information Hiding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../06-tell-dont-ask.html" class="md-nav__link">
        6. Tell, Don't Ask
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../07-static-field.html" class="md-nav__link">
        7. Class Fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../08-static-method.html" class="md-nav__link">
        8. Class Methods
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../09-composition.html" class="md-nav__link">
        9. Composition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../10-heap-stack.html" class="md-nav__link">
        10. Heap and Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../11-inheritance.html" class="md-nav__link">
        11. Inheritance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../12-overriding.html" class="md-nav__link">
        12. Overriding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../13-overloading.html" class="md-nav__link">
        13. Overloading
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../14-polymorphism.html" class="md-nav__link">
        14. Polymorphism
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../15-dynamic-binding.html" class="md-nav__link">
        15. Method Invocation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../16-lsp.html" class="md-nav__link">
        16. LSP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../17-abstract.html" class="md-nav__link">
        17. Abstract Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../18-interface.html" class="md-nav__link">
        18. Interface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../19-wrapper.html" class="md-nav__link">
        19. Wrapper Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../20-casting.html" class="md-nav__link">
        20. Casting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../21-variance.html" class="md-nav__link">
        21. Variance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../22-exception.html" class="md-nav__link">
        22. Exception
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../23-generics.html" class="md-nav__link">
        23. Generics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../24-erasure.html" class="md-nav__link">
        24. Type Erasure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../25-unchecked.html" class="md-nav__link">
        25. Unchecked Warnings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../26-wildcard.html" class="md-nav__link">
        26. Wildcards
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../27-inference.html" class="md-nav__link">
        27. Type Inference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../28-immutability.html" class="md-nav__link">
        28. Immutability
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../29-nested-classes.html" class="md-nav__link">
        29. Nested Classes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../30-functions.html" class="md-nav__link">
        30. Side Effect-Free Programming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../31-box-maybe.html" class="md-nav__link">
        31. Box and Maybe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../32-lazy.html" class="md-nav__link">
        32. Lazy Evaluation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../33-infinitelist.html" class="md-nav__link">
        33. Infinite List
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../34-stream.html" class="md-nav__link">
        34. Streams in Java
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../35-logger.html" class="md-nav__link">
        35. Loggable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../36-monad.html" class="md-nav__link">
        36. Monad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../37-parallel.html" class="md-nav__link">
        37. Parallel Streams
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../38-thread.html" class="md-nav__link">
        38. Threads
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../39-async.html" class="md-nav__link">
        39. Asynchronous Programming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../40-forkjoin.html" class="md-nav__link">
        40. Fork and Join
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Lab Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Lab Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../environments.html" class="md-nav__link">
        Programming Environments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../github.html" class="md-nav__link">
        GitHub Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
          Unix CLI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Unix CLI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../unix/background.html" class="md-nav__link">
        Background
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../unix/essentials.html" class="md-nav__link">
        Essentials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../unix/advanced.html" class="md-nav__link">
        Advanced
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
      
      
      
        <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
          Vim
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Vim
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vim/philosophy.html" class="md-nav__link">
        Background
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vim/setup.html" class="md-nav__link">
        Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vim/quick-lessons.html" class="md-nav__link">
        Lessons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vim/tips.html" class="md-nav__link">
        Tips
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vim/plugins.html" class="md-nav__link">
        Plugins
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Java Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Java Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../style.html" class="md-nav__link">
        Coding Style
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../javadoc.html" class="md-nav__link">
        JavaDoc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="practice-pe2-question-try">Practice PE2 Question: Try</h1>
<h3 id="adapted-from-pe2-of-2021-semester-2">Adapted from PE2 of 20/21 Semester 2</h3>
<h2 id="instructions-to-grab-practice-pe-question">Instructions to grab Practice PE Question:</h2>
<ol>
<li>Accept the practice question <a href="https://classroom.github.com/a/bzpjI-mv">here</a> </li>
<li>Log into the PE nodes and run <code>~cs2030s/get-pe2-try</code> to get the practice question.</li>
<li>There is no submission script</li>
</ol>
<p>You should see the following in your home directory.</p>
<ul>
<li>The files <code>Test1.java</code>, <code>Test2.java</code>, <code>Test3.java</code>, <code>Test4.java</code>, and <code>CS2030STest.java</code> for testing your solution.</li>
<li>The skeleton file for this question: <code>cs2030s/fp/Try.java</code>.</li>
<li>The following files are also provided: <code>Circle.java</code> , <code>Point.java</code>, <code>Consumer.java</code>, <code>Runnable.java</code>, <code>Producer.java</code>, and <code>Transformer.java</code></li>
</ul>
<h2 id="background">Background</h2>
<p>In Java, we handle exceptions with <code>try</code> and <code>catch</code>.  For example,
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code>Circle c;
try {
  c = new Circle(point, radius);
} catch (IllegalArgumentException e) {
  System.err.println(e.getMessage());
}
</code></pre></div></td></tr></table></div></p>
<p>When we code with the functional paradigm, however, we prefer to chain our operations and keep our functions pure.  A more functional way to write this block of code is to use the <code>Try</code> monad:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>Try&lt;Circle&gt; c = Try.of(() -&gt; new Circle(point, radius))
</code></pre></div></td></tr></table></div></p>
<p>The <code>Try</code> monad is a way to encapsulate the result of the computation if it is successful, or the reason for failure if the computational failed.  We refer to these two possibilities as success and failure respectively.  In the example above, the <code>Try&lt;Circle&gt;</code> instance would contain the new circle if it is a success, or an <code>IllegalArgumentException</code> if it fails.</p>
<p>The reason for failure can be encapsulated as an instance of the <code>Throwable</code> class.  This class is defined in the <code>java.lang</code> package and it is the parent class of <code>Exception</code> and <code>Error</code>.  A <code>Throwable</code> instance can be thrown and caught.  Note that:
 - <code>cs2030s.fp.Producer::produce</code> and <code>cs2030s.fp.Runnable::run</code> now throw a <code>Throwable</code>.
 - You don't need to call any methods or access any fields related to <code>Throwable</code> beyond catching, throwing, and converting to string.</p>
<h2 id="your-task">Your Task</h2>
<p>You will implement the <code>Try</code> monad in this question as part of the <code>cs2030s.fp</code> package.</p>
<p>We break down the tasks you need to do into several sections.  We suggest that you read through the whole question, plan your solution carefully before starting.</p>
<p>Please be reminded of the following:</p>
<ul>
<li>
<p>You should design your code so that it is extensible to other possible states of computation in the future, beyond just success and failure. </p>
</li>
<li>
<p>Your code should be type-safe and catch as many type mismatches as possible during compile time.</p>
</li>
</ul>
<h2 id="assumption">Assumption</h2>
<p>You can assume that everywhere a method of <code>Try</code> accepts a functional interface or a <code>Throwable</code> as a parameter, the argument we pass in will not be <code>null</code>.  When a value is expected, however, there is a possibility that we pass in a <code>null</code> as an argument.</p>
<h2 id="the-basics">The Basics</h2>
<p>First, please implement the following methods:</p>
<ul>
<li>
<p>The <code>of</code> factory method, which allows us to create a new <code>Try</code> monad with a producer of type <code>Producer</code> (imported from the package <code>cs2030s.fp.Producer</code>).    Returns success if the producer produces a value successfully, or a failure containing the throwable if the producer throws an exception.</p>
</li>
<li>
<p>The <code>success</code> factory method, which allows us to create a new <code>Try</code> monad with a value.  A <code>Try</code> monad created this way is always a success.</p>
</li>
<li>
<p>The <code>failure</code> factory method, which allows us to create a new <code>Try</code> monad with a <code>Throwable</code>.  A <code>Try</code> monad created this way is always a failure.</p>
</li>
<li>
<p>Override the <code>equals</code> method in <code>Object</code> so that it checks if two different <code>Try</code> instances are equal.  Two <code>Try</code> instances are equal if (i) they are both a success and the values contained in them equal to each other, or (ii) they are both a failure and the <code>Throwable</code>s contained in them have the same string representation.</p>
</li>
<li>
<p>Implement the method <code>get()</code>. <code>get()</code> returns the value if the <code>Try</code> is a success.  It throws the <code>Throwable</code> if it is a failure.</p>
</li>
</ul>
<p>Study carefully how these methods can be used in the examples below:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; import cs2030s.fp.Producer
jshell&gt; import cs2030s.fp.Try

jshell&gt; Try.success(1).get();
$.. ==&gt; 1

jshell&gt; try {
   ...&gt;   Try.failure(new Error()).get();
   ...&gt; } catch (Error e) { 
   ...&gt;   System.out.println(e);
   ...&gt; }
java.lang.Error

jshell&gt; Try.&lt;Number&gt;of((Producer&lt;Integer&gt;) () -&gt; 2).get();
$.. ==&gt; 2

jshell&gt; try {
   ...&gt;   Try&lt;Number&gt; t = Try.of(() -&gt; 4/0);
   ...&gt; } catch (java.lang.ArithmeticException e) { 
   ...&gt;   System.out.println(e);
   ...&gt; }

jshell&gt; Try.success(3).equals(Try.success(3))
$.. ==&gt; true
jshell&gt; Try.success(null).equals(Try.success(null))
$.. ==&gt; true
jshell&gt; Try.success(3).equals(Try.success(null))
$.. ==&gt; false
jshell&gt; Try.success(null).equals(Try.success(3))
$.. ==&gt; false
jshell&gt; Try.success(3).equals(Try.success(&quot;3&quot;))
$.. ==&gt; false
jshell&gt; Try.success(3).equals(3)
$.. ==&gt; false
jshell&gt; Try.failure(new Error()).equals(new Error())
$.. ==&gt; false
jshell&gt; Try.failure(new Error()).equals(Try.success(3))
$.. ==&gt; false
jshell&gt; Try.failure(new Error()).equals(Try.success(new Error()))
$.. ==&gt; false
jshell&gt; Try.success(new Error()).equals(Try.failure(new Error()))
$.. ==&gt; false
jshell&gt; Try.failure(new ArithmeticException()).equals(Try.failure(new Error()))
$.. ==&gt; false
jshell&gt; Try.failure(new ArithmeticException()).equals(Try.failure(new ArithmeticException()))
$.. ==&gt; true
</code></pre></div></td></tr></table></div></p>
<p>You can also test your code with <code>Test1.java</code>:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code>$ javac -Xlint:unchecked -Xlint:rawtypes cs2030s/fp/Try.java
$ javac Test1.java
$ java Test1
$ java -jar ~cs2030s/bin/checkstyle.jar -c ~cs2030s/bin/cs2030_checks.xml cs2030s/fp/Try.java
</code></pre></div></td></tr></table></div></p>
<p>Write the javadoc documentation for <code>of</code>, <code>success</code>, and <code>failure</code> for <code>Try</code>.  Note that since we do not require you to write javadoc for every class and methods, <code>checkstyle</code> no longer warns about missing javadoc for your class and methods.</p>
<h2 id="map">map</h2>
<p>Now, implement the <code>map</code> method so that we can apply a computation on the content of <code>Try</code>.  If <code>map</code> is called on a <code>Try</code> instance that is a failure, the same instance of <code>Try</code> is returned.  Otherwise, if it is a success, the lambda expression is applied to the value contained within <code>Try</code>.  If this lambda expression throws a <code>Throwable</code>, the calling <code>Try</code> becomes a failure containing the <code>Throwable</code> thrown.</p>
<p>Study carefully how <code>map</code> can be used in the examples below:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; import cs2030s.fp.Producer
jshell&gt; import cs2030s.fp.Transformer
jshell&gt; import cs2030s.fp.Try

jshell&gt; Try.success(4).map(x -&gt; x + 1).get();
$.. ==&gt; 5

jshell&gt; try {
   ...&gt;   Try.failure(new NullPointerException()).map(x -&gt; x.toString()).get();
   ...&gt; } catch (NullPointerException e) {
   ...&gt;   System.out.println(e);
   ...&gt; }
java.lang.NullPointerException

jshell&gt; Try.failure(new IOException()).map(x -&gt; x.toString()).equals(Try.failure(new IOException()));
$.. ==&gt; true

jshell&gt; Try.success(4).map(x -&gt; 8 / x).map(x -&gt; x + 1).get();
$.. ==&gt; 3

jshell&gt; try {
   ...&gt;   Try.success(0).map(x -&gt; 8 / x).map(x -&gt; x + 1).get();
   ...&gt; } catch (ArithmeticException e) {
   ...&gt;   System.out.println(e);
   ...&gt; }
java.lang.ArithmeticException: / by zero

jshell&gt; Transformer&lt;Object, Integer&gt; hash = x -&gt; x.hashCode();
jshell&gt; Try.success(&quot;hello&quot;).map(hash).get()
$.. ==&gt; 99162322

jshell&gt; try {
   ...&gt;   Try.&lt;Integer&gt;success(null).map(hash).get();
   ...&gt; } catch (NullPointerException e) {
   ...&gt;   System.out.println(e);
   ...&gt; }
java.lang.NullPointerException
</code></pre></div></td></tr></table></div></p>
<p>You can also test your code with <code>Test2.java</code>:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code>$ javac -Xlint:unchecked -Xlint:rawtypes cs2030s/fp/Try.java
$ javac Test2.java
$ java Test2
$ java -jar ~cs2030s/bin/checkstyle.jar -c ~cs2030s/bin/cs2030_checks.xml cs2030s/fp/Try.java
</code></pre></div></td></tr></table></div></p>
<h2 id="flatmap">flatMap</h2>
<p>Now, make <code>Try</code> a monad.  Implement the <code>flatMap</code> method so that we can compose multiple methods that produce a <code>Try</code> together.  If <code>flatMap</code> is called on a failure, return the failure.  Otherwise, if it is a success, apply the lambda expression on the value contained within <code>Try</code> and return the result.</p>
<p>Study carefully how <code>map</code> can be used in the examples below:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; import cs2030s.fp.Producer
jshell&gt; import cs2030s.fp.Transformer
jshell&gt; import cs2030s.fp.Try

jshell&gt; Try.success(4).flatMap(x -&gt; Try.success(x + 1)).get();
$.. ==&gt; 5

jshell&gt; try {
   ...&gt;   Try.success(4)
   ...&gt;       .flatMap(x -&gt; Try.failure(new IOException()))
   ...&gt;       .get();
   ...&gt; } catch (IOException e) {
   ...&gt;   System.out.println(e);
   ...&gt; }
java.io.IOException

jshell&gt; try {
   ...&gt;   Try.failure(new NullPointerException())
   ...&gt;       .flatMap(x -&gt; Try.success(x.toString()))
   ...&gt;       .get();
   ...&gt; } catch (NullPointerException e) {
   ...&gt;   System.out.println(e);
   ...&gt; }
java.lang.NullPointerException

jshell&gt; Try.failure(new IOException()).flatMap(x -&gt; Try.success(x.toString())).equals(Try.failure(new IOException()));
$.. ==&gt; true

jshell&gt; try {
   ...&gt;   Try.failure(new NullPointerException())
   ...&gt;       .flatMap(x -&gt; Try.failure(new IOException()))
   ...&gt;       .get();
   ...&gt; } catch (NullPointerException e) {
   ...&gt;   System.out.println(e);
   ...&gt; }
java.lang.NullPointerException

jshell&gt; Transformer&lt;Object, Try&lt;Integer&gt;&gt; hash = x -&gt; Try.success(x.hashCode());
jshell&gt; Try&lt;Number&gt; t = Try.success(&quot;hello&quot;).flatMap(hash);
</code></pre></div></td></tr></table></div></p>
<p>You can also test your code with <code>Test3.java</code>:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code>$ javac -Xlint:unchecked -Xlint:rawtypes cs2030s/fp/Try.java
$ javac Test3.java
$ java Test3
$ java -jar ~cs2030s/bin/checkstyle.jar -c ~cs2030s/bin/cs2030_checks.xml cs2030s/fp/Try.java
</code></pre></div></td></tr></table></div></p>
<h2 id="dealing-with-failures">Dealing with failures</h2>
<p>The methods <code>map</code> and <code>flatMap</code> apply the given lambda to the value contained within the <code>Try</code> monad where it is a success.  Write the following method to deal with failure:</p>
<ul>
<li><code>onFailure</code>: Return this instance if the calling <code>Try</code> instance is a success.  Consume the <code>Throwable</code> with a <code>Consumer</code> if it is a failure, and then either (i) return this instance if the consumer runs successfully, or (ii) return a failure instance containing the error/exception when consuming the <code>Throwable</code>.   </li>
</ul>
<p>For example, we can use <code>onFailure</code> to replace this snippet 
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code>Circle c;
try {
  c = new Circle(point, radius);
} catch (IllegalArgumentException e) {
  System.err.println(e.getMessage());
}
</code></pre></div></td></tr></table></div></p>
<p>with:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>Try&lt;Circle&gt; c = Try.of(() -&gt; new Circle(point, radius))
                   .onFailure(System.err::println);
</code></pre></div></td></tr></table></div></p>
<p>We can also recover from the failure, by turning the <code>Try</code> into a success.  Write the following method:</p>
<ul>
<li><code>recover</code>: Return this instance if it is a success.  If this <code>Try</code> instance is a failure.  Apply the given <code>Transformer</code> to the <code>Throwable</code>, if the transformation is a success, return the resulting <code>Try</code>, otherwise, return a failure containing the error/exception when transforming the <code>Throwable</code>.</li>
</ul>
<p>For example, we can use <code>recover</code> to replace this snippet 
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code>Circle c;
try {
  c = new Circle(point, radius);
} catch (IllegalArgumentException e) {
  c = new Circle(point, 1);
}
</code></pre></div></td></tr></table></div></p>
<p>with:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>Try&lt;Circle&gt; c = Try.of(() -&gt; new Circle(point, radius))
                   .recover(e -&gt; new Circle(point, 1));
</code></pre></div></td></tr></table></div></p>
<p>Study carefully how <code>onFailure</code> and <code>recover</code> can be used in the examples below:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; import cs2030s.fp.Consumer
jshell&gt; import cs2030s.fp.Producer
jshell&gt; import cs2030s.fp.Transformer
jshell&gt; import cs2030s.fp.Try

jshell&gt; Try.success(4).onFailure(System.out::println).get()
$.. ==&gt; 4

jshell&gt; try {
   ...&gt;   Try.failure(new IOException()).onFailure(System.out::println).get();
   ...&gt; } catch (IOException e) {
   ...&gt;   System.out.println(e);
   ...&gt; }
java.io.IOException
java.io.IOException

jshell&gt; try {
   ...&gt;   Try.failure(new IOException()).onFailure(e -&gt; { int x = 1 / 0; }).get();
   ...&gt; } catch (ArithmeticException e) {
   ...&gt;   System.out.println(e);
   ...&gt; }
java.lang.ArithmeticException: / by zero

jshell&gt; Consumer&lt;Object&gt; print = System.out::println
jshell&gt; Try.&lt;Number&gt;success(4).onFailure(print).get()
$.. ==&gt; 4

jshell&gt; Try.success(4).recover(e -&gt; 10).get()
$.. ==&gt; 4
jshell&gt; Try.failure(new IOException()).recover(e -&gt; 10).get();
$.. ==&gt; 10

jshell&gt; try {
   ...&gt;   Try.failure(new IOException()).recover(e -&gt; e.hashCode() / 0).get();
   ...&gt; } catch (ArithmeticException e) {
   ...&gt;   System.out.println(e);
   ...&gt; }
java.lang.ArithmeticException: / by zero

jshell&gt; Transformer&lt;Object, Integer&gt; hash = x -&gt; x.hashCode();
jshell&gt; Try.&lt;Number&gt;success(4).recover(hash).get()
$.. ==&gt; 4
</code></pre></div></td></tr></table></div></p>
<p>You can also test your code with <code>Test4.java</code>:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code>$ javac -Xlint:unchecked -Xlint:rawtypes cs2030s/fp/Try.java
$ javac Test4.java
$ java Test4
$ java -jar ~cs2030s/bin/checkstyle.jar -c ~cs2030s/bin/cs2030_checks.xml cs2030s/fp/Try.java
</code></pre></div></td></tr></table></div></p>
<p>Write the javadoc documentation for <code>onFailure</code> and <code>recover</code> for <code>Try</code>.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright by Department of Computer Science, National University of Singapore 2023
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "toc.follow", "toc.integrate", "content.code.annotate", "content.code.copy"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.51198bba.min.js"></script>
      
        <script src="../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
    
  </body>
</html>