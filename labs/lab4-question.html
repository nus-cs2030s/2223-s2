
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://nus-cs2030s.github.io/2223-s2/labs/lab4-question.html">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.6">
    
    
      
        <title>Lab 4: Box - CS2030S Programming Methodology II</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lab-4-box" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="CS2030S Programming Methodology II" class="md-header__button md-logo" aria-label="CS2030S Programming Methodology II" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CS2030S Programming Methodology II
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab 4: Box
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="CS2030S Programming Methodology II" class="md-nav__button md-logo" aria-label="CS2030S Programming Methodology II" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    CS2030S Programming Methodology II
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../00-overview.html" class="md-nav__link">
        0. Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../01-compiler.html" class="md-nav__link">
        1. Program and Compiler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../02-type.html" class="md-nav__link">
        2. Variable and Type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../03-function.html" class="md-nav__link">
        3. Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../04-encapsulation.html" class="md-nav__link">
        4. Encapsulation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../05-infohiding.html" class="md-nav__link">
        5. Information Hiding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../06-tell-dont-ask.html" class="md-nav__link">
        6. Tell, Don't Ask
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../07-static-field.html" class="md-nav__link">
        7. Class Fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../08-static-method.html" class="md-nav__link">
        8. Class Methods
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../09-composition.html" class="md-nav__link">
        9. Composition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../10-heap-stack.html" class="md-nav__link">
        10. Heap and Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../11-inheritance.html" class="md-nav__link">
        11. Inheritance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../12-overriding.html" class="md-nav__link">
        12. Overriding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../13-overloading.html" class="md-nav__link">
        13. Overloading
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../14-polymorphism.html" class="md-nav__link">
        14. Polymorphism
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../15-dynamic-binding.html" class="md-nav__link">
        15. Method Invocation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../16-lsp.html" class="md-nav__link">
        16. LSP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../17-abstract.html" class="md-nav__link">
        17. Abstract Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../18-interface.html" class="md-nav__link">
        18. Interface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../19-wrapper.html" class="md-nav__link">
        19. Wrapper Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../20-casting.html" class="md-nav__link">
        20. Casting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../21-variance.html" class="md-nav__link">
        21. Variance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../22-exception.html" class="md-nav__link">
        22. Exception
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../23-generics.html" class="md-nav__link">
        23. Generics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../24-erasure.html" class="md-nav__link">
        24. Type Erasure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../25-unchecked.html" class="md-nav__link">
        25. Unchecked Warnings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../26-wildcard.html" class="md-nav__link">
        26. Wildcards
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../27-inference.html" class="md-nav__link">
        27. Type Inference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../28-immutability.html" class="md-nav__link">
        28. Immutability
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../29-nested-classes.html" class="md-nav__link">
        29. Nested Classes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../30-functions.html" class="md-nav__link">
        30. Side Effect-Free Programming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../31-box-maybe.html" class="md-nav__link">
        31. Box and Maybe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../32-lazy.html" class="md-nav__link">
        32. Lazy Evaluation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../33-infinitelist.html" class="md-nav__link">
        33. Infinite List
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../34-stream.html" class="md-nav__link">
        34. Streams in Java
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../35-logger.html" class="md-nav__link">
        35. Loggable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../36-monad.html" class="md-nav__link">
        36. Monad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../37-parallel.html" class="md-nav__link">
        37. Parallel Streams
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../38-thread.html" class="md-nav__link">
        38. Threads
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../39-async.html" class="md-nav__link">
        39. Asynchronous Programming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../40-forkjoin.html" class="md-nav__link">
        40. Fork and Join
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Lab Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Lab Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../environments.html" class="md-nav__link">
        Programming Environments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../github.html" class="md-nav__link">
        GitHub Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
          Unix CLI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Unix CLI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../unix/background.html" class="md-nav__link">
        Background
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../unix/essentials.html" class="md-nav__link">
        Essentials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../unix/advanced.html" class="md-nav__link">
        Advanced
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
      
      
      
        <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
          Vim
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Vim
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vim/philosophy.html" class="md-nav__link">
        Background
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vim/setup.html" class="md-nav__link">
        Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vim/quick-lessons.html" class="md-nav__link">
        Lessons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vim/tips.html" class="md-nav__link">
        Tips
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vim/plugins.html" class="md-nav__link">
        Plugins
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Java Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Java Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../style.html" class="md-nav__link">
        Coding Style
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../javadoc.html" class="md-nav__link">
        JavaDoc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="lab-4-box">Lab 4: Box</h1>
<ul>
<li>Deadline: 28 February, 2023, Tuesday, 23:59, SST</li>
<li>Marks: 16</li>
<li>Weightage: 4%</li>
</ul>
<h2 id="prerequisite">Prerequisite:</h2>
<ul>
<li>Caught up to Unit 26 of Lecture Notes</li>
<li>Familiar with CS2030S Java style guide</li>
</ul>
<h2 id="a-box">A Box</h2>
<p>In this lab, we are going to build our own generic wrapper class, a <code>Box&lt;T&gt;</code>.  This is a wrapper class that can be used to store an item of any reference type.  For this lab, our <code>Box&lt;T&gt;</code> is not going to be a very useful abstraction.  Not to worry.  we will slowly add more functionalities to it later in this module.</p>
<p>In the following, we will slowly build up the <code>Box&lt;T&gt;</code> class along with some additional interfaces.  We suggest that you develop your class step-by-step in the order below.</p>
<h2 id="the-basics">The Basics</h2>
<p>Build a generic class <code>Box&lt;T&gt;</code> that</p>
<ul>
<li>
<p>contains a <code>private final</code> field of type <code>T</code> to store the content of the box.</p>
</li>
<li>
<p>overrides the <code>equals</code> method from <code>Object</code> to compare if two boxes are the same.  Two boxes are the same if the content of the box equals each other, as decided by their respective <code>equals</code> method.</p>
</li>
<li>
<p>overrides the <code>toString</code> method so it returns the string representation of its content, between <code>[</code> and <code>]</code>.</p>
</li>
<li>
<p>provides a class method called <code>of</code> that returns a box with a given object.  If <code>null</code> is passed into <code>of</code>, then a <code>null</code> should be returned.</p>
</li>
</ul>
<p>The method <code>of</code> is called a <em>factory method</em>.  A factory method is a method provided by a class for the creation of an instance of the class.  Using a public constructor to create an instance necessitates calling <code>new</code> and allocating a new object on the heap every time.  A factory method, on the other hand, allows the flexibility of reusing the same instance.  The <code>of</code> method does not reuse instances.  You will write another one that reuses available instances in the next section.</p>
<p>With the availability of the <code>of</code> factory method, <code>Box&lt;T&gt;</code> should keep the constructor private.</p>
<p>The sequence below shows how we can use a <code>Box</code> using the methods you developed above.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; Box.of(4)
$.. ==&gt; [4]
jshell&gt; Box.of(4).equals(Box.of(4))
$.. ==&gt; true
jshell&gt; Box.of(4).equals(4)
$.. ==&gt; false
jshell&gt; Box.of(Box.of(0)).equals(Box.of(0))
$.. ==&gt; false
jshell&gt; Box.of(Box.of(0)).equals(Box.of(Box.of(0)))
$.. ==&gt; true
jshell&gt; Box.of(&quot;string&quot;)
$.. ==&gt; [string]
jshell&gt; Box.of(&quot;string&quot;).equals(Box.of(4))
$.. ==&gt; false
jshell&gt; Box.of(&quot;string&quot;).equals(Box.of(&quot;null&quot;))
$.. ==&gt; false
jshell&gt; Box.of(null)
$.. ==&gt; null
</code></pre></div></td></tr></table></div>
<p>You can test your <code>Box&lt;T&gt;</code> more comprehensively by running:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>javac -Xlint:rawtypes Test1.java
java Test1
</code></pre></div></td></tr></table></div></p>
<p>There shouldn't be any compilation warning or error when you compile <code>Test1.java</code> and all tests should prints <code>ok</code>.</p>
<h2 id="an-empty-box">An Empty Box</h2>
<p>The <code>of</code> method returns a <code>null</code> if it is given a <code>null</code>. An alternative (some might say, cleaner) design is to make our factory method returns an empty box instead if we try to create a box of <code>null</code>.</p>
<p>Add a class method in <code>Box</code> called <code>empty()</code> that creates and returns an empty box, i.e., a box with a <code>null</code> item stored in it.</p>
<p>Since empty boxes are likely common, we want to <em>cache</em> and reuse the empty box, that is, create one as a private final class field called <code>EMPTY_BOX</code>, and whenever we need to return an empty box, <code>EMPTY_BOX</code> is returned.</p>
<p>What should the type of <code>EMPTY_BOX</code> be? The type should be general enough to hold a box of any type (<code>Box&lt;Shop&gt;</code>, <code>Box&lt;Circle&gt;</code>, etc). <code>EMPTY_BOX</code> should, therefore, be assigned the most general generic <code>Box&lt;T&gt;</code> type. Hint: It is not <code>Box&lt;Object&gt;</code>.</p>
<p>Your method <code>empty()</code> should do nothing more than to type-cast <code>EMPTY_BOX</code> to the right type (i.e., to <code>Box&lt;T&gt;</code>) before returning, to ensure type consistency.</p>
<p>If you find yourself in a situation where the compiler generates an unchecked type warning, but you are sure that your code is type safe, you can use <code>@SuppressWarnings("unchecked")</code> (responsibly) to suppress the warning.</p>
<p>Add a boolean method <code>isPresent</code> that returns <code>true</code> if the box contains something; <code>false</code> if the box is empty.</p>
<p>Finally, add a class factory method called <code>ofNullable</code>, which behaves just like <code>of</code> if the input is non-null, and returns an empty box if the input is <code>null</code>.</p>
<p>Here is how the <code>Box</code> class can be used with the added methods above:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; Box.ofNullable(4)
$.. ==&gt; [4]
jshell&gt; Box.ofNullable(&quot;string&quot;)
$.. ==&gt; [string]
jshell&gt; Box.ofNullable(null)
$.. ==&gt; []
jshell&gt; Box.empty() == Box.empty()
$.. ==&gt; true
jshell&gt; Box.ofNullable(null) == Box.empty()
$.. ==&gt; true
jshell&gt; Box.ofNullable(null).equals(Box.empty())
$.. ==&gt; true
jshell&gt; Box.ofNullable(null).equals(Box.of(null))
$.. ==&gt; false
jshell&gt; Box.ofNullable(&quot;string&quot;).isPresent()
$.. ==&gt; true
jshell&gt; Box.ofNullable(null).isPresent()
$.. ==&gt; false
</code></pre></div></td></tr></table></div>
<p>You can test the additions to <code>Box&lt;T&gt;</code> above more comprehensively by running:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>javac -Xlint:rawtypes Test2.java
java Test2
</code></pre></div></td></tr></table></div></p>
<p>There shouldn't be any compilation warning or error when you compile <code>Test2.java</code> and all tests should prints <code>ok</code>.</p>
<h2 id="checking-the-content-of-the-box">Checking the Content of the Box</h2>
<p>So far, we can only keep things inside our <code>Box</code>, which is not very exciting.  In the rest of the lab, we will expand <code>Box</code> to support operations on the content inside.</p>
<p>Let's start by writing a generic interface called <code>BooleanCondition&lt;T&gt;</code> with a single abstract boolean method <code>test</code>.  The method <code>test</code> should take a single argument of type <code>T</code>.</p>
<p>Now, one can create a variety of classes by implementing this interface.  By implementing the method <code>test</code> differently, we can create different conditions and check if the item contained in the box satisfies a given condition or not.</p>
<p>Create a method <code>filter</code> in <code>Box</code> that takes in a <code>BooleanCondition</code> as a parameter.  The method <code>filter</code> should return an empty box if the item in the box failed the test (i.e., the call to <code>test</code> returns <code>false</code>).  Otherwise, <code>filter</code> leaves the box untouched and returns the box as it is.  Calling <code>filter</code> on an empty box just returns an empty box.</p>
<p>Here is an example of how <code>BooleanCondition&lt;T&gt;</code> can be used with <code>Box&lt;T&gt;</code>.  Note that we make use of the class <code>Number</code>, a superclass of <code>Integer</code>, below.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; class AlwaysTrue&lt;T&gt; implements BooleanCondition&lt;T&gt; {
   ...&gt;   public boolean test(T t) { return true; }
   ...&gt; }
jshell&gt; class AlwaysFalse&lt;T&gt; implements BooleanCondition&lt;T&gt; {
   ...&gt;   public boolean test(T t) { return false; }
   ...&gt; }
jshell&gt; Box.of(4).filter(new AlwaysTrue&lt;&gt;());
$.. ==&gt; [4]
jshell&gt; Box.empty().filter(new AlwaysTrue&lt;&gt;());
$.. ==&gt; []
jshell&gt; Box.of(&quot;string&quot;).filter(new AlwaysFalse&lt;&gt;());
$.. ==&gt; []
jshell&gt; Box.empty().filter(new AlwaysFalse&lt;&gt;());
$.. ==&gt; []
jshell&gt; class IntValueIsPositive implements BooleanCondition&lt;Number&gt; {
   ...&gt;   public boolean test(Number t) { return t.intValue() &gt; 0; }
   ...&gt; }
jshell&gt; Box.&lt;Double&gt;ofNullable(8.8).filter(new IntValueIsPositive());
$.. ==&gt; [8.8]
jshell&gt; Box.&lt;Long&gt;ofNullable(-100L).filter(new IntValueIsPositive());
$.. ==&gt; []
jshell&gt; Box.&lt;Double&gt;ofNullable(8.8).filter(new IntValueIsPositive()).filter(new IntValueIsPositive())
$.. ==&gt; [8.8]
jshell&gt; Box.&lt;Long&gt;ofNullable(-100L).filter(new IntValueIsPositive()).filter(new IntValueIsPositive());
$.. ==&gt; []
</code></pre></div></td></tr></table></div>
<p>You can test the additions to <code>Box&lt;T&gt;</code> above morecomprehensively by running:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>javac -Xlint:rawtypes Test3.java
java Test3
</code></pre></div></td></tr></table></div></p>
<p>There shouldn't be any compilation warning or error when you compile <code>Test3.java</code> and all tests should prints <code>ok</code>.</p>
<h2 id="implement-your-own-conditions">Implement Your Own Conditions</h2>
<p>The test cases above show you how you could create a class that implements a <code>BooleanCondition</code>.  Now you should implement your own.</p>
<p>Create a class called <code>DivisibleBy</code> that implements <code>BooleanCondition</code> on <code>Integer</code> that checks if a given integer is divisible by another integer.  The <code>test</code> method should return <code>true</code> if it is divisible; return <code>false</code> otherwise.</p>
<p>Create another class called <code>LongerThan</code> that implements <code>BooleanCondition</code> on <code>String</code> that checks if a given string is longer than a given limit.  The <code>test</code> method should return <code>true</code> if it is longer; return <code>false</code> otherwise.</p>
<p>Here is how it should work:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; new DivisibleBy(5).test(4);
$.. ==&gt; false
jshell&gt; new DivisibleBy(5).test(10);
$.. ==&gt; true
jshell&gt; Box.of(10).filter(new DivisibleBy(2));
$.. ==&gt; [10]
jshell&gt; Box.of(3).filter(new DivisibleBy(2));
$.. ==&gt; []
jshell&gt; Box.&lt;Integer&gt;empty().filter(new DivisibleBy(10));
$.. ==&gt; []
jshell&gt;
jshell&gt; Box.of(&quot;&quot;).filter(new LongerThan(10));
$.. ==&gt; []
jshell&gt; Box.of(&quot;123456789&quot;).filter(new LongerThan(10));
$.. ==&gt; []
jshell&gt; Box.of(&quot;1234567890&quot;).filter(new LongerThan(10));
$.. ==&gt; []
jshell&gt; Box.of(&quot;1234567890A&quot;).filter(new LongerThan(10));
$.. ==&gt; [1234567890A]
jshell&gt; Box.&lt;String&gt;empty().filter(new LongerThan(10));
$.. ==&gt; []
</code></pre></div></td></tr></table></div>
<p>On the other hand, calling
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>Box.of(&quot;hello&quot;).filter(new DivisibleBy(10));
</code></pre></div></td></tr></table></div></p>
<p>should result in a compilation error.</p>
<p>You can test your additions to <code>Box&lt;T&gt;</code> more comprehensively by running:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>javac -Xlint:rawtypes Test4.java
java Test4
</code></pre></div></td></tr></table></div></p>
<p>There shouldn't be any compilation warning or error when you compile <code>Test4.java</code> and all tests should prints <code>ok</code>.</p>
<h2 id="transforming-a-box">Transforming a Box</h2>
<p>Now, we are going to write an interface (along with its implementations) and a method in Box that allows a box to be transformed into another box, possibly containing a different type.</p>
<p>First, create an interface called <code>Transformer&lt;T,U&gt;</code> with an abstract method called <code>transform</code> that takes in an argument of generic type <code>T</code> and returns a value of generic type <code>U</code>.</p>
<p>Write a method called <code>map</code> in the class <code>Box</code> that takes in a <code>Transformer</code>, and use the given <code>Transformer</code> to transform the box (and the value inside) into another box of type <code>Box&lt;U&gt;</code>.  Calling <code>map</code> on an empty box should just return an empty box.</p>
<p>In addition, implement your own <code>Transformer</code> in a non-generic class called <code>LastDigitsOfHashCode</code> to transform the content of the box into a box of integer, the value of which is the last <span class="arithmatex">\(k\)</span> digits of the value returned by calling <code>hashCode()</code> on the content of the original box (ignoring the positive/negative sign and leading zeros). The value <span class="arithmatex">\(k\)</span> is passed in through the object of <code>LastDigitsOfHashCode</code>.  The method <code>hashCode()</code> is defined in the class <code>Object</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; class AddOne implements Transformer&lt;Integer,Integer&gt; {
   ...&gt;   public Integer transform(Integer t) { return t + 1; }
   ...&gt; }
jshell&gt; class StringLength implements Transformer&lt;String,Integer&gt; {
   ...&gt;   public Integer transform(String t) { return t.length(); }
   ...&gt; }
jshell&gt;
jshell&gt; Box.of(4).map(new AddOne());
$.. ==&gt; [5]
jshell&gt; Box.&lt;Integer&gt;empty().map(new AddOne());
$.. ==&gt; []
jshell&gt; Box&lt;Number&gt; b = Box.of(4).map(new AddOne());
jshell&gt;
jshell&gt; Box.of(&quot;string&quot;).map(new StringLength());
$.. ==&gt; [6]
jshell&gt; Box.of(&quot;string&quot;).map(new StringLength()).map(new AddOne());
$.. ==&gt; [7]
jshell&gt; Box.of(&quot;string&quot;).map(new StringLength()).filter(new DivisibleBy(5)).map(new AddOne());
$.. ==&gt; []
jshell&gt; Box.of(&quot;chocolates&quot;).map(new StringLength()).filter(new DivisibleBy(5)).map(new AddOne());
$.. ==&gt; [11]
jshell&gt; Box.&lt;String&gt;empty().map(new StringLength());
$.. ==&gt; []
jshell&gt;
jshell&gt; class AlwaysNull implements Transformer&lt;Integer,Object&gt; {
   ...&gt;   public Object transform(Integer t) { return null; }
   ...&gt; }
jshell&gt; Box.of(4).map(new AlwaysNull());
$.. ==&gt; []
jshell&gt;
jshell&gt; new LastDigitsOfHashCode(4).transform(&quot;string&quot;);
$.. ==&gt; 5903
jshell&gt; new LastDigitsOfHashCode(4).transform(123456);
$.. ==&gt; 3456
jshell&gt; Box.of(&quot;string&quot;).map(new LastDigitsOfHashCode(2));
$.. ==&gt; [3]
jshell&gt; Box.of(123456).map(new LastDigitsOfHashCode(5));
$.. ==&gt; [23456]
jshell&gt; Box&lt;Number&gt; b = Box.of(new Integer[] {8, 8, 8}).map(new LastDigitsOfHashCode(5));
</code></pre></div></td></tr></table></div>
<p>You can test your additions to <code>Box&lt;T&gt;</code> more comprehensively
by running:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>javac -Xlint:rawtypes Test5.java
java Test5
</code></pre></div></td></tr></table></div></p>
<p>There shouldn't be any compilation warning or error when you compile <code>Test5.java</code> and all tests should prints <code>ok</code>.</p>
<h2 id="box-in-a-box">Box in a Box</h2>
<p>The <code>Transformer</code> interface allows us to transform the content of the box from one type into any other type, including a box! You have seen examples above where we have a box inside a box: <code>Box.of(Box.of(0))</code>.</p>
<p>Now, implement your own <code>Transformer</code> in a class called <code>BoxIt&lt;T&gt;</code> to transform an item into a box containing the item. The corresponding type <code>T</code> is transformed into <code>Box&lt;T&gt;</code>. This transformer, when invoked with <code>map</code>, results in a new box within the box.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; Box.of(4).map(new BoxIt&lt;&gt;())
$.. ==&gt; [[4]]
jshell&gt; Box.of(Box.of(5)).map(new BoxIt&lt;&gt;())
$.. ==&gt; [[[5]]]
jshell&gt; Box.ofNullable(null).map(new BoxIt&lt;&gt;())
$.. ==&gt; []
jshell&gt;
</code></pre></div></td></tr></table></div>
<p>You can test your <code>Box&lt;T&gt;</code> by running:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>javac -Xlint:rawtypes Test6.java
java Test6
</code></pre></div></td></tr></table></div>
There shouldn't be any compilation warning or error when you compile <code>Test6.java</code> and all tests should prints <code>ok</code>.</p>
<h2 id="files">Files</h2>
<p>A set of empty files have been given to you.  You should only edit these files.  You must not add any additional files.</p>
<p>The files <code>Test1.java</code>, <code>Test2.java</code>, etc., as well as <code>CS2030STest.java</code>, are provided for testing.  You can edit them to add your own test cases, but they will not be submitted.</p>
<h2 id="following-cs2030s-style-guide">Following CS2030S Style Guide</h2>
<p>You should make sure that your code follows the <a href="https://nus-cs2030s.github.io/2223-s2/style.html">given Java style guide</a></p>
<h2 id="grading">Grading</h2>
<p>This lab is worth 16 marks and contributes 4% to your final grade. The marking scheme is as follows:</p>
<ul>
<li>Style: 2 marks</li>
<li>Correctness: 14 marks</li>
</ul>
<p>We will deduct 1 mark for each abuse or unnecessary use of <code>@SuppressWarnings</code> and for each raw type. <code>@SuppressWarnings</code> should be used in at most two places mentioned above.</p>
<p>Note that the style marks are conditioned on the evidence of efforts in solving Lab 4.</p>
<h2 id="warning">WARNING ❗️</h2>
<p>We would like to remind you of the following:</p>
<ul>
<li>
<p>Use only the <code>submit-labX</code> script to submit your lab. Failure to do so will lead to a 50% penalty on your lab grade.</p>
</li>
<li>
<p>The grace period for getting used to the submission system is over.  We will not waive the late penalty if students fail to submit properly.  Please check your repo after running <code>submit-labX</code> to ensure that your files have been added correctly. The URL to your repo is given after you run <code>submit-labX</code>.</p>
</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright by Department of Computer Science, National University of Singapore 2023
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "toc.follow", "toc.integrate", "content.code.annotate", "content.code.copy"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.51198bba.min.js"></script>
      
        <script src="../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
    
  </body>
</html>