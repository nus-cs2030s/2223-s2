
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://nus-cs2030s.github.io/2223-s2/labs/lab6-question.html">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.6">
    
    
      
        <title>Lab 6: Lazy - CS2030S Programming Methodology II</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lab-6-lazy" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="CS2030S Programming Methodology II" class="md-header__button md-logo" aria-label="CS2030S Programming Methodology II" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CS2030S Programming Methodology II
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab 6: Lazy
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="CS2030S Programming Methodology II" class="md-nav__button md-logo" aria-label="CS2030S Programming Methodology II" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    CS2030S Programming Methodology II
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../00-overview.html" class="md-nav__link">
        0. Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../01-compiler.html" class="md-nav__link">
        1. Program and Compiler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../02-type.html" class="md-nav__link">
        2. Variable and Type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../03-function.html" class="md-nav__link">
        3. Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../04-encapsulation.html" class="md-nav__link">
        4. Encapsulation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../05-infohiding.html" class="md-nav__link">
        5. Information Hiding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../06-tell-dont-ask.html" class="md-nav__link">
        6. Tell, Don't Ask
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../07-static-field.html" class="md-nav__link">
        7. Class Fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../08-static-method.html" class="md-nav__link">
        8. Class Methods
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../09-composition.html" class="md-nav__link">
        9. Composition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../10-heap-stack.html" class="md-nav__link">
        10. Heap and Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../11-inheritance.html" class="md-nav__link">
        11. Inheritance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../12-overriding.html" class="md-nav__link">
        12. Overriding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../13-overloading.html" class="md-nav__link">
        13. Overloading
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../14-polymorphism.html" class="md-nav__link">
        14. Polymorphism
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../15-dynamic-binding.html" class="md-nav__link">
        15. Method Invocation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../16-lsp.html" class="md-nav__link">
        16. LSP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../17-abstract.html" class="md-nav__link">
        17. Abstract Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../18-interface.html" class="md-nav__link">
        18. Interface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../19-wrapper.html" class="md-nav__link">
        19. Wrapper Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../20-casting.html" class="md-nav__link">
        20. Casting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../21-variance.html" class="md-nav__link">
        21. Variance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../22-exception.html" class="md-nav__link">
        22. Exception
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../23-generics.html" class="md-nav__link">
        23. Generics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../24-erasure.html" class="md-nav__link">
        24. Type Erasure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../25-unchecked.html" class="md-nav__link">
        25. Unchecked Warnings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../26-wildcard.html" class="md-nav__link">
        26. Wildcards
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../27-inference.html" class="md-nav__link">
        27. Type Inference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../28-immutability.html" class="md-nav__link">
        28. Immutability
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../29-nested-classes.html" class="md-nav__link">
        29. Nested Classes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../30-functions.html" class="md-nav__link">
        30. Side Effect-Free Programming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../31-box-maybe.html" class="md-nav__link">
        31. Box and Maybe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../32-lazy.html" class="md-nav__link">
        32. Lazy Evaluation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../33-infinitelist.html" class="md-nav__link">
        33. Infinite List
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../34-stream.html" class="md-nav__link">
        34. Streams in Java
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../35-logger.html" class="md-nav__link">
        35. Loggable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../36-monad.html" class="md-nav__link">
        36. Monad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../37-parallel.html" class="md-nav__link">
        37. Parallel Streams
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../38-thread.html" class="md-nav__link">
        38. Threads
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../39-async.html" class="md-nav__link">
        39. Asynchronous Programming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../40-forkjoin.html" class="md-nav__link">
        40. Fork and Join
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Lab Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Lab Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../environments.html" class="md-nav__link">
        Programming Environments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../github.html" class="md-nav__link">
        GitHub Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
          Unix CLI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Unix CLI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../unix/background.html" class="md-nav__link">
        Background
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../unix/essentials.html" class="md-nav__link">
        Essentials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../unix/advanced.html" class="md-nav__link">
        Advanced
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
      
      
      
        <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
          Vim
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Vim
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vim/philosophy.html" class="md-nav__link">
        Background
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vim/setup.html" class="md-nav__link">
        Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vim/quick-lessons.html" class="md-nav__link">
        Lessons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vim/tips.html" class="md-nav__link">
        Tips
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vim/plugins.html" class="md-nav__link">
        Plugins
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Java Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Java Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../style.html" class="md-nav__link">
        Coding Style
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../javadoc.html" class="md-nav__link">
        JavaDoc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="lab-6-lazy">Lab 6: Lazy</h1>
<ul>
<li>Deadline: 21 March, 2023, Tuesday, 23:59, SST</li>
<li>Marks: 12</li>
<li>Weightage: 3%</li>
</ul>
<h2 id="prerequisite">Prerequisite</h2>
<ul>
<li>Caught up to Unit 32 of Lecture Notes</li>
<li>Completed Lab 5</li>
</ul>
<h2 id="files">Files</h2>
<p>The following functional interfaces are already provided:
- <code>cs2030s.fp.Combiner</code>
- <code>cs2030s.fp.Transformer</code>
- <code>cs2030s.fp.BooleanCondition</code>
- <code>cs2030s.fp.Producer</code></p>
<p>Copy your implementation of <code>cs2030s.fp.Maybe</code> <ins class="critic">(as well as the interface <code>cs2030s.fp.Consumer</code>)</ins> from Lab 5 over before you get started with Lab 6.  A skeleton for <code>Lazy&lt;T&gt;</code> as well as a wrongly-implemented copy of <code>LazyList.java</code> is provided.</p>
<p>The files <code>Test1.java</code>, <code>Test2.java</code>, etc., as well as <code>CS2030STest.java</code>, are provided for testing.  You can edit them to add your test cases, but they will not be submitted.</p>
<h2 id="documenting-your-code">Documenting Your Code</h2>
<p>Now that we are beginning to build our own package that others can use, we should start to produce documentation on our code.</p>
<p>From Lab 6 onwards, you are required to document your classes and methods with Javadoc comments. You have seen examples from the skeleton code in Lab 1 given earlier. For more details, see the <a href="https://nus-cs2030s.github.io/2223-s2/javadoc.html">JavaDoc guide</a>. The checkstyle tool now checks for JavaDoc-related style as well.</p>
<p>For Lab 6, you should write javadoc documentation for all your methods in <code>Lazy.java</code>.  Documenting the code your wrote previously for Lab 5 is encouraged but optional.</p>
<h2 id="lazy">Lazy</h2>
<p>Programming languages such as Scala support lazy values, where the expression that produces a lazy value is not evaluated until the value is needed.  Lazy value is useful for cases where producing the value is expensive, but the value might not eventually be used.  Java, however, does not provide a similar abstraction.  So, you are going to build one.</p>
<p>This task is divided into several stages.  You are highly encouraged to read through all the stages to see how the different levels are related.</p>
<p>You are required to design a single <code>Lazy</code> class as part of the <code>cs2030s.fp</code> package with two fields.  <em>You are not allowed to add additional fields</em> to <code>Lazy</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code>public class Lazy&lt;T&gt; {
  private Producer&lt;? extends T&gt; producer;
  private Maybe&lt;T&gt; value;

   :
}
</code></pre></div></td></tr></table></div>
<p>Take note of the following constraints:</p>
<ul>
<li>Avoid using the protected <code>Maybe::get</code> method and avoid access the classes <code>Maybe.Some&lt;T&gt;</code> or <code>Maybe.None</code> directly.</li>
<li>Since <code>Maybe</code> has internalized <code>if-else</code> checks for whether the value is there or not, you must not use any form of conditional statements to compare if <code>value</code> contains something or not.</li>
<li>You are not allowed to use any raw types.</li>
<li>You don't need any <code>@SuppressWarnings</code> for this lab, but if you do, it must be used responsibly.</li>
</ul>
<h2 id="the-basics-of-being-lazy">The Basics of Being Lazy</h2>
<p>Define a generic <code>Lazy</code> class to encapsulate a value with the following operations:</p>
<ul>
<li>static <code>of(T v)</code> method that initializes the <code>Lazy</code> object with the given value.</li>
<li>static <code>of(Producer&lt;T&gt; s)</code> method that takes in a producer that produces the value when needed.</li>
<li><code>get()</code> method that is called when the value is needed.  If the value is already available, return that value; otherwise, compute the value and return it.  The computation should only be done once for the same value.</li>
<li><code>toString()</code>: returns <code>"?"</code> if the value is not yet available; returns the string representation of the value otherwise.</li>
</ul>
<p>Note that for our class to be immutable and to make the memorization of the value transparent, <code>toString</code> should call <code>get()</code> and should never return <code>"?"</code>.  We break the rules of immutability and encapsulation here, just so that it is easier to debug and test the laziness of your implementation.</p>
<p>Hint: You may find the method <code>valueOf</code> from the class <code>String</code> useful.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; import cs2030s.fp.Producer
jshell&gt; import cs2030s.fp.Lazy

jshell&gt; Lazy&lt;Integer&gt; eight = Lazy.of(8)
jshell&gt; eight
eight ==&gt; 8
jshell&gt; eight.get()
$.. ==&gt; 8

jshell&gt; Producer&lt;String&gt; s = () -&gt; &quot;hello&quot;
jshell&gt; Lazy&lt;Object&gt; hello = Lazy.of(s)
jshell&gt; Lazy&lt;String&gt; hello = Lazy.of(s)
jshell&gt; hello
hello ==&gt; ?
jshell&gt; hello.get()
$.. ==&gt; &quot;hello&quot;

jshell&gt; s = () -&gt; { System.out.println(&quot;world!&quot;); return &quot;hello&quot;; }
jshell&gt; Lazy&lt;String&gt; hello = Lazy.of(s)
jshell&gt; hello
hello ==&gt; ?
jshell&gt; hello.get()
world!
$.. ==&gt; &quot;hello&quot;

jshell&gt; // check that &quot;world!&quot; should not be printed again.
jshell&gt; hello.get()
$.. ==&gt; &quot;hello&quot;

jshell&gt; Random rng = new Random(1)
jshell&gt; Producer&lt;Integer&gt; r = () -&gt; rng.nextInt()
jshell&gt; Lazy&lt;Integer&gt; random = Lazy.of(r)

jshell&gt; // check that random value should not be available
jshell&gt; random
random ==&gt; ?

jshell&gt; // check that random value is obtained only once
jshell&gt; random.get().equals(random.get())
$.. ==&gt; true

jshell&gt; // should handle null
jshell&gt; Lazy&lt;Object&gt; n = Lazy.of((Object)null)
jshell&gt; n.toString()
$.. ==&gt; &quot;null&quot;
jshell&gt; n.get()
$.. ==&gt; null

jshell&gt; Lazy&lt;Integer&gt; n = Lazy.of((Producer&lt;Integer&gt;)() -&gt; null)
jshell&gt; n
n ==&gt; ?
jshell&gt; n.get()
$.. ==&gt; null
</code></pre></div></td></tr></table></div>
<p>You can test your code by running the <code>Test1.java</code> provided.  The following should compile without errors or warnings.  Make sure your code follows the CS2030S Java style and can generate the documentation without error.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code>$ javac cs2030s/fp/*java
$ javac -Xlint:rawtypes Test1.java
$ java Test1
$ java -jar ~cs2030s/bin/checkstyle.jar -c ~cs2030s/bin/cs2030_checks.xml Lazy.java
$ javadoc -quiet -private -d docs cs2030s/fp/Lazy.java
</code></pre></div></td></tr></table></div></p>
<h2 id="map-and-flatmap">Map and FlatMap</h2>
<p>Now let's add the <code>map</code> and <code>flatMap</code> method.  Remember that <code>Lazy</code> should not evaluate anything until <code>get()</code> is called, so the function <code>f</code> passed into <code>Lazy</code> through <code>map</code> and <code>flatMap</code> should not be evaluated until <code>get()</code> is called.  Furthermore, they should be evaluated once.  That result from <code>map</code> and <code>flatMap</code>, once evaluated, should be cached (also called <em>memoized</em>), so that function must not be called again.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; import cs2030s.fp.Lazy
jshell&gt; import cs2030s.fp.Producer
jshell&gt; import cs2030s.fp.Transformer

jshell&gt; Producer&lt;String&gt; s = () -&gt; &quot;123456&quot;
jshell&gt; Lazy&lt;String&gt; lazy = Lazy.of(s)
jshell&gt; lazy.map(str -&gt; str.substring(0, 1))
$.. ==&gt; ?
jshell&gt; lazy
$.. ==&gt; ?
jshell&gt; lazy.map(str -&gt; str.substring(0, 1)).get()
$.. ==&gt; &quot;1&quot;
jshell&gt; lazy.get()
$.. ==&gt; &quot;123456&quot;

jshell&gt; Transformer&lt;String, String&gt; substr = str -&gt; {
   ...&gt;   System.out.println(&quot;substring&quot;);
   ...&gt;   return str.substring(0, 1);
   ...&gt; }
jshell&gt; lazy = lazy.map(substr)
jshell&gt; lazy.get()
substring
$.. ==&gt; &quot;1&quot;
jshell&gt; lazy.get()
$.. ==&gt; &quot;1&quot;

jshell&gt; Lazy&lt;Integer&gt; lazy = Lazy.of(10)
jshell&gt; lazy = lazy.map(i -&gt; i + 1)
jshell&gt; lazy = lazy.flatMap(j -&gt; Lazy.of(j + 3))
jshell&gt; lazy
lazy ==&gt; ?
jshell&gt; lazy.get()
$.. ==&gt; 14
jshell&gt; lazy
lazy ==&gt; 14

jshell&gt; Transformer&lt;Object, Integer&gt; hash = x -&gt; x.hashCode();
jshell&gt; Lazy&lt;Number&gt; lazy = Lazy.&lt;String&gt;of(&quot;sunday&quot;).map(hash);
jshell&gt; Transformer&lt;Object, Lazy&lt;Integer&gt;&gt; hash = x -&gt; Lazy.&lt;Integer&gt;of(x.hashCode());
jshell&gt; Lazy&lt;Number&gt; lazy = Lazy.&lt;String&gt;of(&quot;sunday&quot;).flatMap(hash);
</code></pre></div></td></tr></table></div>
<p>You can test your code by running the <code>Test2.java</code> provided.  The following should compile without errors or warnings.  Make sure your code follows the CS2030S Java style and can generate the documentation without error.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code>$ javac cs2030s/fp/*java
$ javac -Xlint:rawtypes Test2.java
$ java Test2
$ java -jar ~cs2030s/bin/checkstyle.jar -c ~cs2030s/bin/cs2030_checks.xml Lazy.java
$ javadoc -quiet -private -d docs cs2030s/fp/Lazy.java
</code></pre></div></td></tr></table></div></p>
<h2 id="filter">Filter</h2>
<p>Write a <code>filter</code> method, which takes in a <code>BooleanCondition</code> and lazily tests if the value passes the test or not.  Returns a <code>Lazy&lt;Boolean&gt;</code> object.  The <code>BooleanCondition</code> must be executed at most once.</p>
<p>Then write an <code>equals</code>, which overrides the <code>equals</code> method in the <code>Object</code> class.  <code>equals</code> is an eager operation that causes the values to be evaluated (if not already cached).  <code>equals</code> should return true only both objects being compared are <code>Lazy</code> and the value contains within are equals (according to their <code>equals()</code> methods).</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; import cs2030s.fp.Lazy

jshell&gt; Lazy&lt;Integer&gt; fifty = Lazy.of(50)
jshell&gt; Lazy&lt;Boolean&gt; even = fifty.filter(i -&gt; i % 2 == 0)
jshell&gt; even
even ==&gt; ?
jshell&gt; even.get()
$.. ==&gt; true
jshell&gt; even
even ==&gt; true

jshell&gt; // equals
jshell&gt; fifty.equals(Lazy.of(5).map(i -&gt; i * 10))
$.. ==&gt; true
jshell&gt; fifty.equals(50)
$.. ==&gt; false
jshell&gt; fifty.equals(Lazy.of(&quot;50&quot;))
$.. ==&gt; false
jshell&gt; even.equals(Lazy.of(true))
$.. ==&gt; true

jshell&gt; BooleanCondition&lt;String&gt; isHello = s -&gt; {
   ...&gt;   System.out.println(s);
   ...&gt;   return s.equals(&quot;hello&quot;);
   ...&gt; }
jshell&gt; Lazy&lt;Boolean&gt; same = Lazy.of(&quot;hi&quot;).filter(isHello)
jshell&gt; same
same ==&gt; ?
jshell&gt; same.get()
hi
$.. ==&gt; false
jshell&gt; same.get()
$.. ==&gt; false

jshell&gt; BooleanCondition&lt;Object&gt; alwaysFalse = s -&gt; false
jshell&gt; Lazy&lt;Boolean&gt; same = Lazy.&lt;String&gt;of(&quot;hi&quot;).filter(alwaysFalse)
</code></pre></div></td></tr></table></div>
<p>You can test your code by running the <code>Test3.java</code> provided.  The following should compile without errors or warnings.  Make sure your code follows the CS2030S Java style and can generate the documentation without error.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code>$ javac cs2030s/fp/*java
$ javac -Xlint:rawtypes Test3.java
$ java Test3
$ java -jar ~cs2030s/bin/checkstyle.jar -c ~cs2030s/bin/cs2030_checks.xml *.java
$ javadoc -quiet -private -d docs cs2030s/fp/Lazy.java
</code></pre></div></td></tr></table></div></p>
<h2 id="combine">Combine</h2>
<p>We have provided an interface called <code>Combiner&lt;S, T, R&gt;</code> in <code>cs2030s.fp</code>, with a single <code>combine</code> method to combine two values, of type <code>S</code> and <code>T</code> respectively, into a result of type <code>R</code>.</p>
<p>Add a method called <code>combine</code> into <code>Lazy</code>.  The <code>combine</code> method takes in another <code>Lazy</code> object and a <code>Combiner</code> implementation to lazily combine the two <code>Lazy</code> objects (which may contain values of different types) and return a new <code>Lazy</code> object.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; import cs2030s.fp.Lazy
jshell&gt; Lazy&lt;Integer&gt; five, ten, fifty, hundred
jshell&gt; ten = Lazy.of(10)
jshell&gt; five = Lazy.of(5)
jshell&gt; // combine (same types)
jshell&gt; Combiner&lt;Integer, Integer, Integer&gt; add = (x, y) -&gt; {
   ...&gt;   System.out.println(&quot;combine&quot;);
   ...&gt;   return x + y;
   ...&gt; }
jshell&gt; fifty = five.combine(ten, (x, y) -&gt; x * y)
jshell&gt; fifty
fifty ==&gt; ?
jshell&gt; hundred = fifty.combine(fifty, add)
jshell&gt; hundred
hundred ==&gt; ?
jshell&gt; // combine (different types)
jshell&gt; Combiner&lt;Integer,Double,String&gt; f = (x, y) -&gt; Integer.toString(x) + &quot; &quot; + Double.toString(y)
jshell&gt; Lazy&lt;String&gt; s = Lazy.of(10).combine(Lazy.of(0.01), f)
jshell&gt; s
s ==&gt; ?
jshell&gt; s.get()
$.. ==&gt; &quot;10 0.01&quot;

jshell&gt; Combiner&lt;Object,Object,Integer&gt; f = (x, y) -&gt; x.hashCode() + y.hashCode()
jshell&gt; Lazy&lt;Number&gt; n = Lazy.&lt;String&gt;of(&quot;hello&quot;).combine(Lazy.&lt;Integer&gt;of(123), f);
</code></pre></div></td></tr></table></div>
<p>You can test your code by running the <code>Test4.java</code> provided.  The following should compile without errors or warnings.  Make sure your code follows the CS2030S Java style and can generate the documentation without error.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code>$ javac cs2030s/fp/*java
$ javac -Xlint:rawtypes Test4.java
$ java Test4
$ java -jar ~cs2030s/bin/checkstyle.jar -c ~cs2030s/bin/cs2030_checks.xml Lazy.java
$ javadoc -quiet -private -d docs cs2030s/fp/Lazy.java
</code></pre></div></td></tr></table></div></p>
<h2 id="lazy-list">Lazy List</h2>
<p>The <code>Lazy</code> class can be used to build a lazy-evaluated list.</p>
<p>Consider the class <code>EagerList</code> below.  Given <code>n</code>, the size of the list, <code>seed</code>, the initial value, and <code>f</code>, an operation, we can generate an <code>EagerList</code> as [seed, f(seed), f(f(seed)), f(f(f(seed))), ... ], up to <code>n</code> elements.</p>
<p>We can then use the method <code>get(i)</code> to find the i-th element in this list, or <code>indexOf(obj)</code> to find the index of <code>obj</code> in the list.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kd">class</span> <span class="nc">EagerList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">;</span>
<span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="nf">EagerList</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">EagerList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">seed</span><span class="p">,</span><span class="w"> </span><span class="n">Transformer</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">EagerList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">eagerList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">EagerList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">());</span>
<span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="n">curr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">seed</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">eagerList</span><span class="p">.</span><span class="na">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">curr</span><span class="p">);</span>
<span class="w">        </span><span class="n">curr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="na">transform</span><span class="p">(</span><span class="n">curr</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">eagerList</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">list</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">indexOf</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">list</span><span class="p">.</span><span class="na">indexOf</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@Override</span>
<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">list</span><span class="p">.</span><span class="na">toString</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>But suppose <code>f()</code> is an expensive computation, and we ended up just needing to <code>get(k)</code> where <code>k</code> is much smaller than <code>N</code>, then, we would have wasted our time computing all the remaining elements in the list!  Similarly, if the <code>obj</code> that we want to find using <code>indexOf</code> is near the beginning of the list, there is no need to compute the remaining elements of the list.</p>
<p>Change the <code>EagerList</code> class into a new class called <code>LazyList</code>, making use of the <code>Lazy</code> class you have constructed, so that <code>get()</code> and <code>indexOf()</code> causes evaluation of <code>f()</code> only as many times as necessary.  Hint: you only need to make minimal changes.  Neither a new field nor a new loop is necessary.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; /open LazyList.java
jshell&gt; Transformer&lt;Integer, Integer&gt; incr = x -&gt; {
   ...&gt;   System.out.println(&quot;x + 1&quot;);
   ...&gt;   return x + 1;
   ...&gt; }
jshell&gt; LazyList&lt;Integer&gt; l = l.generate(1000000, 0, incr);
jshell&gt; l
l ==&gt; [0, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,  ...
jshell&gt; l.indexOf(4);
x + 1
x + 1
x + 1
x + 1
$9 ==&gt; 4
jshell&gt; l
l ==&gt; [0, 1, 2, 3, 4, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ...
jshell&gt; l.get(8)
x + 1
x + 1
x + 1
x + 1
$11 ==&gt; 8
jshell&gt; l
l ==&gt; [0, 1, 2, 3, 4, 5, 6, 7, 8, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ...
jshell&gt; l.get(2)
$13 ==&gt; 2
jshell&gt; l
l ==&gt; [0, 1, 2, 3, 4, 5, 6, 7, 8, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ...
jshell&gt; l.indexOf(4);
$15 ==&gt; 4
jshell&gt; l
l ==&gt; [0, 1, 2, 3, 4, 5, 6, 7, 8, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ...
jshell&gt;
</code></pre></div></td></tr></table></div>
<p>You can test your code by running the <code>Test5.java</code> provided.  The following should compile without errors or warnings.  Make sure your code follows the CS2030S Java style and can generate the documentation without error.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code>$ javac cs2030s/fp/*java
$ javac -Xlint:rawtypes Test5.java
$ java Test5
$ java -jar ~cs2030s/bin/checkstyle.jar -c ~cs2030s/bin/cs2030_checks.xml LazyList.java
$ javadoc -quiet -private -d docs LazyList.java
</code></pre></div></td></tr></table></div></p>
<h2 id="following-cs2030s-style-guide">Following CS2030S Style Guide</h2>
<p>You should make sure that your code follows the <a href="https://nus-cs2030s.github.io/2223-s2/style.html">given Java style guide</a> and the <a href="https://nus-cs2030s.github.io/2223-s2/javadoc.html">given Java documentation guide</a></p>
<h2 id="grading">Grading</h2>
<p>This lab is worth 12 marks and contributes 3% to your final grade.  The marking scheme is as follows:</p>
<ul>
<li>Documentation: 2 marks</li>
<li>Everything Else: 10 marks</li>
</ul>
<p>We will deduct 1 mark for each unnecessary use of <code>@SuppressWarnings</code> and each raw type.  <code>@SuppressWarnings</code> should be used appropriately and not abused to remove compilation warnings.</p>
<p>Note that style marks are no longer awarded.  You should know how to follow the prescribed Java style by now.  We will deduct up to 2 marks if there are serious violations of styles.</p>
<h2 id="warning">WARNING </h2>
<p>We would like to remind you of the following:</p>
<ul>
<li>Use only the <code>submit-labX</code> script to submit your lab.  Failure to do so will lead to a 50% penalty on your lab grade.</li>
<li>The grace period for getting used to the submission system is over.  We will not waive the late penalty if students fail to submit properly.  Please check your repo after running <code>submit-labX</code> to ensure that your files have been added correctly. The URL to your repo is given after you run <code>submit-labX</code>.</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright by Department of Computer Science, National University of Singapore 2023
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "toc.follow", "toc.integrate", "content.code.annotate", "content.code.copy"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.51198bba.min.js"></script>
      
        <script src="../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
    
  </body>
</html>